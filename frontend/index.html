<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≠—Ä–æ—Ç–∏—á–µ—Å–∫–∏—Ö –ò—Å—Ç–æ—Ä–∏–π</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üåπ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≠—Ä–æ—Ç–∏—á–µ—Å–∫–∏—Ö –ò—Å—Ç–æ—Ä–∏–π</h1>
            <p class="subtitle">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞</p>
        </header>

        <div class="status-bar">
            <div class="status-indicator" id="status-indicator">
                <span class="status-dot"></span>
                <span id="status-text">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã...</span>
            </div>
            <button class="info-btn" id="stats-btn" onclick="showStats()">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
        </div>

        <main>
            <form id="story-form" class="story-form">
                <div class="form-group">
                    <label for="prompt">–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –∏—Å—Ç–æ—Ä–∏–∏ *</label>
                    <textarea 
                        id="prompt" 
                        name="prompt" 
                        rows="3" 
                        placeholder="–û–ø–∏—à–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é –∏–¥–µ—é –∏–ª–∏ —Å—é–∂–µ—Ç –≤–∞—à–µ–π –∏—Å—Ç–æ—Ä–∏–∏..."
                        required
                        minlength="10"
                    ></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="genre">–ñ–∞–Ω—Ä</label>
                        <select id="genre" name="genre">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∂–∞–Ω—Ä</option>
                            <option value="–†–æ–º–∞–Ω—Ç–∏–∫–∞">–†–æ–º–∞–Ω—Ç–∏–∫–∞</option>
                            <option value="–°—Ç—Ä–∞—Å—Ç—å">–°—Ç—Ä–∞—Å—Ç—å</option>
                            <option value="–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ">–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</option>
                            <option value="–§–∞–Ω—Ç–∞–∑–∏—è">–§–∞–Ω—Ç–∞–∑–∏—è</option>
                            <option value="–î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ">–î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
                            <option value="–ù–µ–∂–Ω–æ—Å—Ç—å">–ù–µ–∂–Ω–æ—Å—Ç—å</option>
                            <option value="–ó–∞–ø—Ä–µ—Ç–Ω–∞—è –ª—é–±–æ–≤—å">–ó–∞–ø—Ä–µ—Ç–Ω–∞—è –ª—é–±–æ–≤—å</option>
                            <option value="–°–ª—É—á–∞–π–Ω–∞—è –≤—Å—Ç—Ä–µ—á–∞">–°–ª—É—á–∞–π–Ω–∞—è –≤—Å—Ç—Ä–µ—á–∞</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="length">–î–ª–∏–Ω–∞ –∏—Å—Ç–æ—Ä–∏–∏</label>
                        <select id="length" name="length">
                            <option value="short">–ö–æ—Ä–æ—Ç–∫–∞—è (500-800 —Å–ª–æ–≤)</option>
                            <option value="medium" selected>–°—Ä–µ–¥–Ω—è—è (1000-1500 —Å–ª–æ–≤)</option>
                            <option value="long">–î–ª–∏–Ω–Ω–∞—è (2000-3000 —Å–ª–æ–≤)</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="characters">–ü–µ—Ä—Å–æ–Ω–∞–∂–∏</label>
                    <input 
                        type="text" 
                        id="characters" 
                        name="characters" 
                        placeholder="–ò–º–µ–Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ê–Ω–Ω–∞, –î–º–∏—Ç—Ä–∏–π)"
                    >
                </div>

                <div class="form-group">
                    <label for="setting">–ú–µ—Å—Ç–æ –¥–µ–π—Å—Ç–≤–∏—è</label>
                    <input 
                        type="text" 
                        id="setting" 
                        name="setting" 
                        placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –£—é—Ç–Ω–æ–µ –∫–∞—Ñ–µ –≤ —Ü–µ–Ω—Ç—Ä–µ –ú–æ—Å–∫–≤—ã"
                    >
                </div>

                <details class="advanced-options">
                    <summary>‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</summary>
                    <div class="advanced-content">
                        <div class="form-group">
                            <label for="temperature">
                                –ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å: <span id="temp-value">0.8</span>
                            </label>
                            <input 
                                type="range" 
                                id="temperature" 
                                name="temperature" 
                                min="0" 
                                max="2" 
                                step="0.1" 
                                value="0.8"
                                oninput="document.getElementById('temp-value').textContent = this.value"
                            >
                            <small>–ù–∏–∑–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ, –≤—ã—Å–æ–∫–æ–µ = –±–æ–ª–µ–µ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ</small>
                        </div>

                        <div class="form-group">
                            <label for="top_p">
                                Top-p: <span id="topp-value">0.95</span>
                            </label>
                            <input 
                                type="range" 
                                id="top_p" 
                                name="top_p" 
                                min="0" 
                                max="1" 
                                step="0.05" 
                                value="0.95"
                                oninput="document.getElementById('topp-value').textContent = this.value"
                            >
                        </div>
                    </div>
                </details>

                <button type="submit" class="submit-btn" id="submit-btn">
                    ‚ú® –°–æ–∑–¥–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é
                </button>
            </form>

            <div class="result-container" id="result-container" style="display: none;">
                <div class="result-header">
                    <h2>üìñ –í–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è</h2>
                    <div class="result-actions">
                        <button class="action-btn" onclick="copyStory()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="action-btn" onclick="resetForm()">üîÑ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é</button>
                    </div>
                </div>
                <div class="story-output" id="story-output"></div>
                <div class="story-metadata" id="story-metadata"></div>
            </div>

            <div class="loading" id="loading" style="display: none;">
                <div class="spinner"></div>
                <p>–°–æ–∑–¥–∞—ë–º –≤–∞—à—É –∏—Å—Ç–æ—Ä–∏—é...</p>
                <small>–≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 15-30 —Å–µ–∫—É–Ω–¥</small>
            </div>

            <div class="error-message" id="error-message" style="display: none;"></div>
        </main>

        <footer>
            <p>‚ö†Ô∏è –¢–æ–ª—å–∫–æ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö 18+</p>
            <p>–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Gemma 2B —Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–µ–π RAG</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
